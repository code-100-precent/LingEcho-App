# LingEcho 环境变量配置示例
# 复制此文件为 .env 并修改相应的配置值

# ===================
# 基础配置
# ===================
APP_ENV=development
MODE=dev
ADDR=:7072

# 服务器信息配置（可选）
MACHINE_ID=1
SERVER_NAME=LingEcho
SERVER_DESC=AI Voice Assistant Platform
SERVER_URL=http://localhost:7072
SERVER_LOGO=
SERVER_TERMS_URL=

# ===================
# 数据库配置
# ===================
# SQLite 配置（默认）
DB_DRIVER=sqlite
DSN=./ling.db

# PostgreSQL 配置（生产环境推荐）
# DB_DRIVER=postgres
# DSN=postgres://lingecho:your-password@localhost:5432/lingecho?sslmode=disable

# MySQL 配置
# DB_DRIVER=mysql
# DSN=lingecho:your-password@tcp(localhost:3306)/lingecho?charset=utf8mb4&collation=utf8mb4_unicode_ci&parseTime=True&loc=Local

# Neo4j 图数据库配置（可选）
NEO4J_ENABLED=false
NEO4J_URI=bolt://localhost:7687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=
NEO4J_DATABASE=neo4j

# ===================
# API 配置
# ===================
API_PREFIX=/api
ADMIN_PREFIX=/admin
AUTH_PREFIX=/auth
DOCS_PREFIX=/api/docs

# ===================
# 会话配置
# ===================
SESSION_SECRET=your-super-secret-session-key-change-this-in-production
SESSION_EXPIRE_DAYS=7

# ===================
# LLM 配置
# ===================
LLM_API_KEY=your-llm-api-key
LLM_BASE_URL=https://api.openai.com/v1
LLM_MODEL=deepseek-v3.1

# OpenAI 配置（用于WebRTC等场景）
OPENAI_TOKEN=your-openai-token
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4o
OPENAI_API_KEY=your-openai-api-key

# ===================
# 七牛云 ASR 配置
# ===================
QINIU_ASR_API_KEY=your-qiniu-asr-api-key
QINIU_ASR_BASE_URL=https://openai.qiniu.com/v1
QINIU_ASR_TIMEOUT=30
QINIU_ASR_SAMPLE_RATE=16000
QINIU_ASR_CHANNELS=1
QINIU_ASR_BITS=16
QINIU_ASR_ENABLE_PUNC=true

# ===================
# 七牛云 TTS 配置
# ===================
QINIU_TTS_API_KEY=your-qiniu-tts-api-key
QINIU_TTS_BASE_URL=https://openai.qiniu.com/v1
QINIU_TTS_TIMEOUT=30
QINIU_TTS_RETRIES=3

# ===================
# 腾讯云配置（语音服务）
# ===================
QCLOUD_APP_ID=your-qcloud-app-id
QCLOUD_SECRET_ID=your-qcloud-secret-id
QCLOUD_SECRET=your-qcloud-secret

# ===================
# 讯飞配置（语音服务）
# ===================
XUNFEI_APP_ID=your-xunfei-app-id
XUNFEI_API_KEY=your-xunfei-api-key
XUNFEI_BASE_URL=http://opentrain.xfyousheng.com
XUNFEI_WS_APP_ID=your-xunfei-ws-app-id
XUNFEI_WS_API_KEY=your-xunfei-ws-api-key
XUNFEI_WS_API_SECRET=your-xunfei-ws-api-secret
XUNFEI_TIMEOUT=30

# ===================
# 火山引擎配置（音色克隆）
# ===================
VOLCENGINE_CLONE_APP_ID=your-volcengine-clone-app-id
VOLCENGINE_CLONE_TOKEN=your-volcengine-clone-token
VOLCENGINE_CLONE_CLUSTER=volcano_icl
VOLCENGINE_CLONE_VOICE_TYPE=your-voice-type
VOLCENGINE_CLONE_ENCODING=pcm
VOLCENGINE_CLONE_FRAME_DURATION=20ms
VOLCENGINE_CLONE_SAMPLE_RATE=16000
VOLCENGINE_CLONE_BIT_DEPTH=16
VOLCENGINE_CLONE_CHANNELS=1
VOLCENGINE_CLONE_SPEED_RATIO=1.0
VOLCENGINE_CLONE_TRAINING_TIMES=1

# ===================
# 其他TTS提供商配置（可选）
# ===================
# Azure TTS
# AZURE_SUBSCRIPTION_KEY=your-azure-subscription-key
# AZURE_REGION=your-azure-region

# ElevenLabs TTS
# ELEVENLABS_API_KEY=your-elevenlabs-api-key

# FishSpeech TTS
# FISHSPEECH_API_KEY=your-fishspeech-api-key

# ===================
# 日志配置
# ===================
LOG_LEVEL=info
LOG_FILENAME=./logs/app.log
LOG_MAX_SIZE=100
LOG_MAX_AGE=30
LOG_MAX_BACKUPS=5
LOG_DAILY=true

# ===================
# 知识库配置
# ===================
# 是否启用知识库功能
KNOWLEDGE_BASE_ENABLED=false
# 知识库提供者：aliyun, milvus, qdrant, elasticsearch, pinecone
KNOWLEDGE_BASE_PROVIDER=aliyun

# 阿里云百炼知识库配置
BAILIAN_ACCESS_KEY_ID=your-bailian-access-key-id
BAILIAN_ACCESS_KEY_SECRET=your-bailian-access-key-secret
BAILIAN_ENDPOINT=bailian.cn-beijing.aliyuncs.com
BAILIAN_WORKSPACE_ID=your-workspace-id
BAILIAN_CATEGORY_ID=your-category-id
BAILIAN_SOURCE_TYPE=DATA_CENTER_FILE
BAILIAN_PARSER=DASHSCOPE_DOCMIND
BAILIAN_STRUCT_TYPE=unstructured
BAILIAN_SINK_TYPE=BUILT_IN

# Milvus 知识库配置
MILVUS_ADDRESS=localhost:19530
MILVUS_USERNAME=
MILVUS_PASSWORD=
MILVUS_COLLECTION=your-collection-name
MILVUS_DIMENSION=768

# Qdrant 知识库配置
QDRANT_BASE_URL=http://localhost:6333
QDRANT_API_KEY=
QDRANT_COLLECTION=your-collection-name
QDRANT_DIMENSION=384

# Elasticsearch 知识库配置
ELASTICSEARCH_BASE_URL=http://localhost:9200
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=
ELASTICSEARCH_INDEX=your-index-name

# Pinecone 知识库配置
PINECONE_API_KEY=your-pinecone-api-key
PINECONE_BASE_URL=https://api.pinecone.io
PINECONE_INDEX_NAME=your-index-name
PINECONE_DIMENSION=1536

# ===================
# 邮件配置
# ===================
MAIL_HOST=smtp.gmail.com
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
MAIL_PORT=587
MAIL_FROM=noreply@lingecho.com

# ===================
# 搜索配置
# ===================
SEARCH_ENABLED=true
SEARCH_PATH=./search
SEARCH_BATCH_SIZE=100
SEARCH_DELAY_INDEX=false

# ===================
# 备份配置
# ===================
BACKUP_ENABLED=true
BACKUP_PATH=./backups
BACKUP_SCHEDULE=0 2 * * *

# ===================
# 监控配置
# ===================
MONITOR_PREFIX=/metrics
LANGUAGE_ENABLED=true
API_SECRET_KEY=your-api-secret-key-change-this-in-production

# 指标监控配置
METRICS_MAX_SPANS=1000
METRICS_MAX_QUERIES=100
METRICS_MAX_STATS=100
METRICS_ENABLE_TRACING=false
METRICS_ENABLE_SQL_ANALYSIS=false
METRICS_ENABLE_SYSTEM_MONITOR=false

# ===================
# 文件上传配置
# ===================
UPLOAD_DIR=./uploads

# ===================
# 静态资源配置
# ===================
STATIC_PREFIX=/static
STATIC_ROOT=./static

# ===================
# 媒体资源配置
# ===================
MEDIA_PREFIX=/media
MEDIA_CACHE_ROOT=./media_cache
MEDIA_CACHE_DISABLED=false

# ===================
# 存储配置
# ===================
# 存储类型: local, qiniu, cos, minio (默认: local)
STORAGE_KIND=local

# 七牛云存储配置（当 STORAGE_KIND=qiniu 时使用）
# QINIU_ACCESS_KEY=your-qiniu-access-key
# QINIU_SECRET_KEY=your-qiniu-secret-key
# QINIU_BUCKET=your-bucket-name
# QINIU_DOMAIN=your-domain.com
# QINIU_REGION=z0
# QINIU_PRIVATE=false

# 腾讯云COS存储配置（当 STORAGE_KIND=cos 时使用）
# SECRET_ID=your-secret-id
# SECRET_KEY=your-secret-key
# REGION=ap-beijing
# BUCKET_NAME=your-bucket-name

# MinIO存储配置（当 STORAGE_KIND=minio 时使用）
# MINIO_ENDPOINT=localhost:9000
# MINIO_ACCESS_KEY=your-minio-access-key
# MINIO_SECRET_KEY=your-minio-secret-key
# MINIO_BUCKET=your-bucket-name
# MINIO_USE_SSL=false
# MINIO_PUBLIC_BASE=https://your-domain.com

# ===================
# 缓存配置
# ===================
# 缓存类型: local, gocache, redis (默认: local)
CACHE_TYPE=local

# Redis 配置（当 CACHE_TYPE=redis 时使用）
# REDIS_ADDR=localhost:6379
# REDIS_PASSWORD=
# REDIS_DB=0
# REDIS_POOL_SIZE=10
# REDIS_MIN_IDLE_CONNS=5
# REDIS_DIAL_TIMEOUT=5s
# REDIS_READ_TIMEOUT=3s
# REDIS_WRITE_TIMEOUT=3s
# REDIS_IDLE_TIMEOUT=5m

# 本地缓存配置（当 CACHE_TYPE=local 或 gocache 时使用）
# LOCAL_CACHE_MAX_SIZE=1000
# LOCAL_CACHE_DEFAULT_EXPIRATION=5m
# LOCAL_CACHE_CLEANUP_INTERVAL=10m

# ===================
# SSL/TLS 配置
# ===================
# 启用SSL/TLS（设置为true启用HTTPS）
SSL_ENABLED=false

# SSL证书文件路径（启用SSL时必填）
# 证书文件路径（通常为 .crt 或 .pem 文件）
SSL_CERT_FILE=./ssl/lingecho.com_bundle.pem

# SSL私钥文件路径（启用SSL时必填）
# 私钥文件路径（通常为 .key 文件）
SSL_KEY_FILE=./ssl/lingecho.com.key

# 注意：
# 1. 将SSL证书文件放在项目根目录的 ssl/ 目录下
# 2. 确保证书文件权限正确（建议：chmod 600 ssl/*.key, chmod 644 ssl/*.pem）
# 3. 生产环境建议使用CA签发的证书（如Let's Encrypt）
# 4. 开发环境可以使用自签名证书进行测试
# 5. 证书文件命名可以自定义，只需在环境变量中指定正确路径即可
