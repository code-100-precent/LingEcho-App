# LingEcho 环境变量配置示例
# 复制此文件为 .env 并修改相应的配置值

# ===================
# 基础配置
# ===================
APP_ENV=development
MODE=dev
ADDR=:7072

# ===================
# 数据库配置
# ===================
# SQLite 配置（默认）
DB_DRIVER=sqlite
DSN=./ling.db

# PostgreSQL 配置（生产环境推荐）
# DB_DRIVER=postgres
# DSN=postgres://lingecho:your-password@localhost:5432/lingecho?sslmode=disable

# MySQL 配置
# DB_DRIVER=mysql
# DSN=lingecho:your-password@tcp(localhost:3306)/lingecho?charset=utf8mb4&collation=utf8mb4_unicode_ci&parseTime=True&loc=Local

# ===================
# API 配置
# ===================
API_PREFIX=/api
ADMIN_PREFIX=/admin
AUTH_PREFIX=/auth
DOCS_PREFIX=/api/docs

# ===================
# 会话配置
# ===================
SESSION_SECRET=your-super-secret-session-key-change-this-in-production
SESSION_EXPIRE_DAYS=7

# ===================
# LLM 配置
# ===================
LLM_API_KEY=your-llm-api-key
LLM_BASE_URL=https://api.openai.com/v1
LLM_MODEL=deepseek-v3.1

# ===================
# 七牛云 ASR 配置
# ===================
QINIU_ASR_API_KEY=your-qiniu-asr-api-key
QINIU_ASR_BASE_URL=https://openai.qiniu.com/v1
QINIU_ASR_TIMEOUT=30

# ===================
# 七牛云 TTS 配置
# ===================
QINIU_TTS_API_KEY=your-qiniu-tts-api-key
QINIU_TTS_BASE_URL=https://openai.qiniu.com/v1
QINIU_TTS_VOICE_TYPE=qiniu_zh_female_tmjxxy

# ===================
# 腾讯云配置（语音服务）
# ===================
QCLOUD_APP_ID=your-qcloud-app-id
QCLOUD_SECRET_ID=your-qcloud-secret-id
QCLOUD_SECRET=your-qcloud-secret
QCLOUD_VOICE_TYPE=602003
QCLOUD_SPEED=1.2
QCLOUD_VOLUME=1.0
QCLOUD_PITCH=1.0

# ===================
# 日志配置
# ===================
LOG_LEVEL=info
LOG_FILENAME=./logs/app.log
LOG_MAX_SIZE=100
LOG_MAX_AGE=30
LOG_MAX_BACKUPS=5
LOG_DAILY=true

# ===================
# 知识库配置
# ===================
# 是否启用知识库功能
KNOWLEDGE_BASE_ENABLED=false
# 知识库提供者：aliyun, milvus, qdrant, elasticsearch, pinecone
KNOWLEDGE_BASE_PROVIDER=aliyun

# 阿里云百炼知识库配置
BAILIAN_ACCESS_KEY_ID=your-bailian-access-key-id
BAILIAN_ACCESS_KEY_SECRET=your-bailian-access-key-secret
BAILIAN_ENDPOINT=bailian.cn-beijing.aliyuncs.com
BAILIAN_WORKSPACE_ID=your-workspace-id
BAILIAN_CATEGORY_ID=your-category-id
BAILIAN_SOURCE_TYPE=DATA_CENTER_FILE
BAILIAN_PARSER=DASHSCOPE_DOCMIND
BAILIAN_STRUCT_TYPE=unstructured
BAILIAN_SINK_TYPE=BUILT_IN

# Milvus 知识库配置
MILVUS_ADDRESS=localhost:19530
MILVUS_USERNAME=
MILVUS_PASSWORD=
MILVUS_COLLECTION=your-collection-name
MILVUS_DIMENSION=768

# Qdrant 知识库配置
QDRANT_BASE_URL=http://localhost:6333
QDRANT_API_KEY=
QDRANT_COLLECTION=your-collection-name
QDRANT_DIMENSION=384

# Elasticsearch 知识库配置
ELASTICSEARCH_BASE_URL=http://localhost:9200
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=
ELASTICSEARCH_INDEX=your-index-name

# Pinecone 知识库配置
PINECONE_API_KEY=your-pinecone-api-key
PINECONE_BASE_URL=https://api.pinecone.io
PINECONE_INDEX_NAME=your-index-name
PINECONE_DIMENSION=1536

# ===================
# 邮件配置
# ===================
MAIL_HOST=smtp.gmail.com
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
MAIL_PORT=587
MAIL_FROM=noreply@lingecho.com

# ===================
# 搜索配置
# ===================
SEARCH_ENABLED=true
SEARCH_PATH=./search
SEARCH_BATCH_SIZE=100

# ===================
# 备份配置
# ===================
BACKUP_ENABLED=true
BACKUP_PATH=./backups
BACKUP_SCHEDULE=0 2 * * *

# ===================
# 监控配置
# ===================
MONITOR_PREFIX=/metrics
LANGUAGE_ENABLED=true
API_SECRET_KEY=your-api-secret-key-change-this-in-production

# ===================
# 文件上传配置
# ===================
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760

# ===================
# 静态资源配置
# ===================
STATIC_PREFIX=/static
STATIC_ROOT=./static

# ===================
# 缓存配置
# ===================
# 缓存类型: local, gocache, redis (默认: local)
CACHE_TYPE=local

# Redis 配置（当 CACHE_TYPE=redis 时使用）
# REDIS_ADDR=localhost:6379
# REDIS_PASSWORD=
# REDIS_DB=0
# REDIS_POOL_SIZE=10
# REDIS_MIN_IDLE_CONNS=5
# REDIS_DIAL_TIMEOUT=5s
# REDIS_READ_TIMEOUT=3s
# REDIS_WRITE_TIMEOUT=3s
# REDIS_IDLE_TIMEOUT=5m

# 本地缓存配置（当 CACHE_TYPE=local 或 gocache 时使用）
# LOCAL_CACHE_MAX_SIZE=1000
# LOCAL_CACHE_DEFAULT_EXPIRATION=5m
# LOCAL_CACHE_CLEANUP_INTERVAL=10m


# ===================
# SSL/TLS 配置
# ===================
# 启用SSL/TLS（设置为true启用HTTPS）
SSL_ENABLED=false

# SSL证书文件路径（启用SSL时必填）
# 证书文件路径（通常为 .crt 或 .pem 文件）
# 示例：如果使用 lingecho.com_bundle.pem（包含证书链）
SSL_CERT_FILE=./ssl/lingecho.com_bundle.pem

# SSL私钥文件路径（启用SSL时必填）
# 私钥文件路径（通常为 .key 文件）
# 示例：如果使用 lingecho.com.key
SSL_KEY_FILE=./ssl/lingecho.com.key

# 注意：
# 1. 将SSL证书文件放在项目根目录的 ssl/ 目录下
# 2. 确保证书文件权限正确（建议：chmod 600 ssl/*.key, chmod 644 ssl/*.pem）
# 3. 生产环境建议使用CA签发的证书（如Let's Encrypt）
# 4. 开发环境可以使用自签名证书进行测试
# 5. 证书文件命名可以自定义，只需在环境变量中指定正确路径即可

# ===================
# 阿里云百炼配置（知识库服务）
# ===================
BAILIAN_ACCESS_KEY_ID=your-bailian-access-key-id
BAILIAN_ACCESS_KEY_SECRET=your-bailian-access-key-secret
BAILIAN_ENDPOINT=bailian.cn-beijing.aliyuncs.com
BAILIAN_WORKSPACE_ID=your-bailian-workspace-id
BAILIAN_CATEGORY_ID=your-bailian-category-id
BAILIAN_SOURCE_TYPE=DATA_CENTER_FILE
BAILIAN_PARSER=DASHSCOPE_DOCMIND
BAILIAN_STRUCT_TYPE=unstructured
BAILIAN_SINK_TYPE=BUILT_IN
